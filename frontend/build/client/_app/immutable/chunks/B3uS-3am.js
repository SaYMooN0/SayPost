import{w as q,m as z,l as _,x as B,y as F,U as N,z as v,A as k,B as w,n as h,C as J,v as L,D as A,F as C,G as D,b as P,H as E,I as d,J as S}from"./TlERTnYi.js";const m=0,i=1,y=2;function j(H,T,f,p,G){_&&B();var n=H,x=q(),U=P,a=N,r,t,u,l=(x?k:w)(void 0),I=(x?k:w)(void 0),o=!1;function c(e,s){o=!0,s&&(A(b),C(b),D(U));try{e===m&&f&&(r?E(r):r=h(()=>f(n))),e===i&&p&&(t?E(t):t=h(()=>p(n,l))),e!==m&&r&&d(r,()=>r=null),e!==i&&t&&d(t,()=>t=null),e!==y&&u&&d(u,()=>u=null)}finally{s&&(D(null),C(null),A(null),S())}}var b=z(()=>{if(a!==(a=T())){if(F(a)){var e=a;o=!1,e.then(s=>{e===a&&(v(l,s),c(i,!0))},s=>{if(e===a)throw v(I,s),c(y,!0),I.v}),_?f&&(r=h(()=>f(n))):J(()=>{o||c(m,!0)})}else v(l,a),c(i,!1);return()=>a=N}});_&&(n=L)}export{j as a};
