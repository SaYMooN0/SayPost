import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{p as L,a as O,c as m,f as _,i as t,Y as U,s as l,r as c,t as u}from"../chunks/TlERTnYi.js";import{t as i,a as o,c as V,s as h}from"../chunks/CeeueTis.js";import{a as $}from"../chunks/B3uS-3am.js";import{i as g}from"../chunks/GGSi--Df.js";import{i as j}from"../chunks/C8yRapQW.js";import{p as x}from"../chunks/B1ynhPFb.js";import{C as z}from"../chunks/CEYdIS5b.js";import{A as b}from"../chunks/CrUDN0xC.js";import{P as A}from"../chunks/B-eBv7WL.js";var B=i('<h1 class="svelte-1324r3e">You have successfully confirmed your email</h1> <a href="/new-post" class="new-post-link svelte-1324r3e">Now you can create your own posts</a>',1),F=i('<p class="svelte-1324r3e"> </p>'),G=i('<p class="svelte-1324r3e"> </p>'),K=i('<h1 class="error-h svelte-1324r3e">An error has occurred during confirmation</h1> <div class="err-view svelte-1324r3e"> <!> <!></div>',1),M=i('<h1 class="loading-h svelte-1324r3e">Confirming your email</h1> <!>',1),Q=i('<div class="view-container svelte-1324r3e"><!></div>');function nr(k,D){L(D,!1);let E=x.params.userId,H=x.params.confirmationCode;async function I(){return b.fetchVoidResponse("/confirm-registration",b.requestJsonOptions({userId:E,confirmationCode:H}))}j();var f=Q(),N=m(f);$(N,I,p=>{var r=M(),n=l(_(r),2);z(n),o(p,r)},(p,r)=>{var n=V(),P=_(n);{var R=s=>{var v=B();U(2),o(s,v)},S=s=>{var v=K(),w=l(_(v),2),y=m(w),C=l(y);{var Y=a=>{var e=F(),d=m(e);c(e),u(()=>h(d,`Details: ${t(r).errors[0].details??""}`)),o(a,e)};g(C,a=>{A.HasNonEmptyDetails(t(r).errors[0])&&a(Y)})}var q=l(C,2);{var J=a=>{var e=G(),d=m(e);c(e),u(()=>h(d,`Code: ${t(r).errors[0].code??""}`)),o(a,e)};g(q,a=>{A.HasSpecifiedCode(t(r).errors[0])&&a(J)})}c(w),u(()=>h(y,`${t(r).errors[0].message??""} `)),o(s,v)};g(P,s=>{t(r).isSuccess?s(R):s(S,!1)})}o(p,n)}),c(f),o(k,f),O()}export{nr as component};
