{"version":3,"file":"_page.svelte-DWj8lkdA.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/confirm-registration/_userId_/_confirmationCode_/_page.svelte.js"],"sourcesContent":["import { y as await_block, l as pop, p as push, m as escape_html } from \"../../../../../chunks/index2.js\";\nimport { p as page } from \"../../../../../chunks/index3.js\";\nimport { C as CubeLoader } from \"../../../../../chunks/CubeLoader.js\";\nimport { A as ApiAuth } from \"../../../../../chunks/backend-services.js\";\nimport { P as PlainErrUtils } from \"../../../../../chunks/t-plain-err.js\";\nfunction _page($$payload, $$props) {\n  push();\n  let userId = page.params.userId;\n  let confirmationCode = page.params.confirmationCode;\n  async function confirmRegistration() {\n    return ApiAuth.fetchVoidResponse(\"/confirm-registration\", ApiAuth.requestJsonOptions({ userId, confirmationCode }));\n  }\n  $$payload.out += `<div class=\"view-container svelte-1324r3e\"><!---->`;\n  await_block(\n    confirmRegistration(),\n    () => {\n      $$payload.out += `<h1 class=\"loading-h svelte-1324r3e\">Confirming your email</h1> `;\n      CubeLoader($$payload);\n      $$payload.out += `<!---->`;\n    },\n    (response) => {\n      if (response.isSuccess) {\n        $$payload.out += \"<!--[-->\";\n        $$payload.out += `<h1 class=\"svelte-1324r3e\">You have successfully confirmed your email</h1> <a href=\"/new-post\" class=\"new-post-link svelte-1324r3e\">Now you can create your own posts</a>`;\n      } else {\n        $$payload.out += \"<!--[!-->\";\n        $$payload.out += `<h1 class=\"error-h svelte-1324r3e\">An error has occurred during confirmation</h1> <div class=\"err-view svelte-1324r3e\">${escape_html(response.errors[0].message)} `;\n        if (PlainErrUtils.HasNonEmptyDetails(response.errors[0])) {\n          $$payload.out += \"<!--[-->\";\n          $$payload.out += `<p class=\"svelte-1324r3e\">Details: ${escape_html(response.errors[0].details)}</p>`;\n        } else {\n          $$payload.out += \"<!--[!-->\";\n        }\n        $$payload.out += `<!--]--> `;\n        if (PlainErrUtils.HasSpecifiedCode(response.errors[0])) {\n          $$payload.out += \"<!--[-->\";\n          $$payload.out += `<p class=\"svelte-1324r3e\">Code: ${escape_html(response.errors[0].code)}</p>`;\n        } else {\n          $$payload.out += \"<!--[!-->\";\n        }\n        $$payload.out += `<!--]--></div>`;\n      }\n      $$payload.out += `<!--]-->`;\n    }\n  );\n  $$payload.out += `<!----></div>`;\n  pop();\n}\nexport {\n  _page as default\n};\n"],"names":[],"mappings":";;;;;;;;;;AAKA,SAAS,KAAK,CAAC,SAAS,EAAE,OAAO,EAAE;AACnC,EAAE,IAAI,EAAE;AACR,EAAE,IAAI,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM;AACjC,EAAE,IAAI,gBAAgB,GAAG,IAAI,CAAC,MAAM,CAAC,gBAAgB;AACrD,EAAE,eAAe,mBAAmB,GAAG;AACvC,IAAI,OAAO,OAAO,CAAC,iBAAiB,CAAC,uBAAuB,EAAE,OAAO,CAAC,kBAAkB,CAAC,EAAE,MAAM,EAAE,gBAAgB,EAAE,CAAC,CAAC;AACvH;AACA,EAAE,SAAS,CAAC,GAAG,IAAI,CAAC,kDAAkD,CAAC;AACvE,EAAE,WAAW;AACb,IAAI,mBAAmB,EAAE;AACzB,IAAI,MAAM;AACV,MAAM,SAAS,CAAC,GAAG,IAAI,CAAC,gEAAgE,CAAC;AACzF,MAAM,UAAU,CAAC,SAAS,CAAC;AAC3B,MAAM,SAAS,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC;AAChC,KAAK;AACL,IAAI,CAAC,QAAQ,KAAK;AAClB,MAAM,IAAI,QAAQ,CAAC,SAAS,EAAE;AAC9B,QAAQ,SAAS,CAAC,GAAG,IAAI,UAAU;AACnC,QAAQ,SAAS,CAAC,GAAG,IAAI,CAAC,yKAAyK,CAAC;AACpM,OAAO,MAAM;AACb,QAAQ,SAAS,CAAC,GAAG,IAAI,WAAW;AACpC,QAAQ,SAAS,CAAC,GAAG,IAAI,CAAC,uHAAuH,EAAE,WAAW,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;AAC7L,QAAQ,IAAI,aAAa,CAAC,kBAAkB,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE;AAClE,UAAU,SAAS,CAAC,GAAG,IAAI,UAAU;AACrC,UAAU,SAAS,CAAC,GAAG,IAAI,CAAC,mCAAmC,EAAE,WAAW,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC;AAC9G,SAAS,MAAM;AACf,UAAU,SAAS,CAAC,GAAG,IAAI,WAAW;AACtC;AACA,QAAQ,SAAS,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC;AACpC,QAAQ,IAAI,aAAa,CAAC,gBAAgB,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE;AAChE,UAAU,SAAS,CAAC,GAAG,IAAI,UAAU;AACrC,UAAU,SAAS,CAAC,GAAG,IAAI,CAAC,gCAAgC,EAAE,WAAW,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC;AACxG,SAAS,MAAM;AACf,UAAU,SAAS,CAAC,GAAG,IAAI,WAAW;AACtC;AACA,QAAQ,SAAS,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC;AACzC;AACA,MAAM,SAAS,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC;AACjC;AACA,GAAG;AACH,EAAE,SAAS,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC;AAClC,EAAE,GAAG,EAAE;AACP;;;;"}