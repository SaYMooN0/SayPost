{"version":3,"file":"9-DpBDsWps.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/users/_userId_/(sub-pages)/comments-left/_page.server.ts.js","../../../.svelte-kit/adapter-node/nodes/9.js"],"sourcesContent":["import { c as cachedUsersStore } from \"../../../../../../chunks/cached-users.svelte.js\";\nimport { a as ApiMain, A as ApiAuth } from \"../../../../../../chunks/backend-services.js\";\nconst load = async ({ params, fetch }) => {\n  const { userId } = params;\n  const response = await ApiMain.serverFetchJsonResponse(fetch, `/users/${userId}/list-left-comments`, { method: \"GET\" });\n  console.log(\"----\", response);\n  console.log(response.isSuccess);\n  if (!response.isSuccess) {\n    return { title: \"left comments\", errors: response.errors };\n  }\n  const usernameResult = await cachedUsersStore.getUsernameForIds(\n    response.data.posts.map((p) => p.postAuthorId),\n    async (missingIds) => await ApiAuth.serverFetchJsonResponse(\n      fetch,\n      \"/users/usernames-by-ids\",\n      ApiAuth.requestJsonOptions({ ids: missingIds })\n    )\n  );\n  const totalComments = response.data.posts.reduce((total, p) => total + p.comments.length, 0);\n  return {\n    title: `left comments (${totalComments})`,\n    posts: response.data.posts.map((p) => ({\n      ...p,\n      authorUsername: usernameResult[p.postAuthorId] ?? null\n    }))\n  };\n};\nexport {\n  load\n};\n","import * as server from '../entries/pages/users/_userId_/(sub-pages)/comments-left/_page.server.ts.js';\n\nexport const index = 9;\nlet component_cache;\nexport const component = async () => component_cache ??= (await import('../entries/pages/users/_userId_/(sub-pages)/comments-left/_page.svelte.js')).default;\nexport { server };\nexport const server_id = \"src/routes/users/[userId]/(sub-pages)/comments-left/+page.server.ts\";\nexport const imports = [\"_app/immutable/nodes/9.CT7yc--w.js\",\"_app/immutable/chunks/CWj6FrbW.js\",\"_app/immutable/chunks/TlERTnYi.js\",\"_app/immutable/chunks/DIeogL5L.js\",\"_app/immutable/chunks/CeeueTis.js\",\"_app/immutable/chunks/GGSi--Df.js\",\"_app/immutable/chunks/D8xadzcL.js\",\"_app/immutable/chunks/XGGrSNVo.js\",\"_app/immutable/chunks/B-eBv7WL.js\",\"_app/immutable/chunks/DaXfFcw6.js\",\"_app/immutable/chunks/69_IOA4Y.js\",\"_app/immutable/chunks/CNt2kpLD.js\",\"_app/immutable/chunks/D6Y3kr68.js\"];\nexport const stylesheets = [\"_app/immutable/assets/DefaultErrBlock.BZ3oWHWt.css\",\"_app/immutable/assets/ListIsEmptyComponent.BdtJwJof.css\",\"_app/immutable/assets/PostBriefDataPreview.Cw8945DA.css\",\"_app/immutable/assets/9.CvWWPRpw.css\"];\nexport const fonts = [];\n"],"names":[],"mappings":";;;;AAEA,MAAM,IAAI,GAAG,OAAO,EAAE,MAAM,EAAE,KAAK,EAAE,KAAK;AAC1C,EAAE,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM;AAC3B,EAAE,MAAM,QAAQ,GAAG,MAAM,OAAO,CAAC,uBAAuB,CAAC,KAAK,EAAE,CAAC,OAAO,EAAE,MAAM,CAAC,mBAAmB,CAAC,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE,CAAC;AACzH,EAAE,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC;AAC/B,EAAE,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,SAAS,CAAC;AACjC,EAAE,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE;AAC3B,IAAI,OAAO,EAAE,KAAK,EAAE,eAAe,EAAE,MAAM,EAAE,QAAQ,CAAC,MAAM,EAAE;AAC9D;AACA,EAAE,MAAM,cAAc,GAAG,MAAM,gBAAgB,CAAC,iBAAiB;AACjE,IAAI,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,YAAY,CAAC;AAClD,IAAI,OAAO,UAAU,KAAK,MAAM,OAAO,CAAC,uBAAuB;AAC/D,MAAM,KAAK;AACX,MAAM,yBAAyB;AAC/B,MAAM,OAAO,CAAC,kBAAkB,CAAC,EAAE,GAAG,EAAE,UAAU,EAAE;AACpD;AACA,GAAG;AACH,EAAE,MAAM,aAAa,GAAG,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,KAAK,EAAE,CAAC,KAAK,KAAK,GAAG,CAAC,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,CAAC;AAC9F,EAAE,OAAO;AACT,IAAI,KAAK,EAAE,CAAC,eAAe,EAAE,aAAa,CAAC,CAAC,CAAC;AAC7C,IAAI,KAAK,EAAE,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,MAAM;AAC3C,MAAM,GAAG,CAAC;AACV,MAAM,cAAc,EAAE,cAAc,CAAC,CAAC,CAAC,YAAY,CAAC,IAAI;AACxD,KAAK,CAAC;AACN,GAAG;AACH,CAAC;;;;;;;ACxBW,MAAC,KAAK,GAAG;AACrB,IAAI,eAAe;AACP,MAAC,SAAS,GAAG,YAAY,eAAe,KAAK,CAAC,MAAM,OAAO,4BAA2E,CAAC,EAAE;AAEzI,MAAC,SAAS,GAAG;AACb,MAAC,OAAO,GAAG,CAAC,oCAAoC,CAAC,mCAAmC,CAAC,mCAAmC,CAAC,mCAAmC,CAAC,mCAAmC,CAAC,mCAAmC,CAAC,mCAAmC,CAAC,mCAAmC,CAAC,mCAAmC,CAAC,mCAAmC,CAAC,mCAAmC,CAAC,mCAAmC,CAAC,mCAAmC;AAChe,MAAC,WAAW,GAAG,CAAC,oDAAoD,CAAC,yDAAyD,CAAC,yDAAyD,CAAC,sCAAsC;AAC/N,MAAC,KAAK,GAAG;;;;"}